Build dependencies from mingw:
  mingw-get install mingw32-libz
  mingw-get install mingw32-gmp
  mingw-get install mingw32-libpopt
  mingw-get install mingw32-pthreads-w32

  Do not install the msys-libxml2 package (this is broken).

Build dependencies with standalone installers:
  CMake
  Doxygen
  Python
  Wix

  Do not install standalone Qt (this is incompatible with newer MinGW).

Other helpful stuff from mingw:
  mingw-get install msys-wget
  mingw-get install msys-unzip
  mingw-get install msys-zip

Other helpful stuff with standalone installers:
  Graphviz
  TortoiseSVN

To build boost (verified for v1.54.0):
  Download .zip (not .tar.gz)
  Open cmd.exe (not mingw)

  set PATH=C:\MinGW\bin;%PATH%
  cd path\to\boost
  bootstrap.bat mingw
  b2 toolset=gcc --with-python --with-regex variant=release link=shared

  Open mingw

  cd path/to/boost
  mv boost /c/Boost/include/boost-1_54 (or whatever version)
  mv stage/lib/* /c/Boost/lib

To build Qt (verified for 4.8.5):
  Unpack in /c/Qt/4.8.5
  Open cmd.exe (not mingw)

  Edit /c/Qt/4.8.5/projects.pro and comment out:
    SUBDIRS += examples
    SUBDIRS += demos

  set PATH=C:\MinGW\bin;%PATH%
  cd \Qt\4.8.5
  configure -platform win32-g++
  mingw32-make

  There is no need to install (the files are already in place).

To build cppunit (verified for v1.12.1):
  ./configure --prefix=/home/bab/software

To build source-highlight (verified for v3.1.7):
  Patch to change NO_ERROR to NO_RANGE_ERROR (see source-highlight.patch).
  ./configure --prefix=/home/bab/software --with-boost=/c/Boost

To build libxml2:
  MinGW's msys-libxml2 (2.7.6) is broken, and libxml2 must be hand-rolled.
  ./configure --prefix=/home/bab/software --with-threads=win32

To build the python system library for shipping:
  cd /c/Python27/Lib
  zip -r path/to/python27.zip . -x distutils/\* -x \*.pyc
  Also copy python27.dll from /c/Windows/System32

To prepare the handbook:
  Build docs.zip from some other package (e.g., the Mac bundle),
  so that handbooks are stored as docs/en/regina{,-xml}.

To build regina:
  cmake -G 'MSYS Makefiles'
    -DCMAKE_INCLUDE_PATH=/mingw/include:/include:/c/Boost/include/boost-1_54
    -DCMAKE_LIBRARY_PATH=/mingw/lib:/lib:/c/Boost/lib
    -DCMAKE_INSTALL_PREFIX=/home/bab/software
    -DQT_QMAKE_EXECUTABLE=/c/Qt/4.8.5/bin/qmake
    -DREGINA_DOCS=path/to/docs.zip
    ..

To run the test suite:
  export PATH="$PATH":/home/bab/software/bin
  make test ARGS=-V

To prepare WiX for use:
  If WiX is not on the path, add aliases to ~/.bashrc:
    alias candle='"/c/Program Files/Windows Installer XML v3.6/bin/candle"'
    alias light='"/c/Program Files/Windows Installer XML v3.6/bin/light"'

To generate unique IDs for the windows installer:
  Build UUIDgen (gcc UUIDgen.c -lole32 -o UUIDgen)

To help fill documentation entries in regina.wsx:
  ls -1 ~/foo/MinGW/msys/1.0/home/bab/software/share/regina/docs/en/regina |
    sed -e "s#^#                        <File Name='#"
        -e "s#\$#'/>#" 
    > /tmp/foo

To build the installer:
  candle Regina.wxs WixUI_Regina.wxs
  light -ext WixUIExtension -o 'Regina 4.94.msi' Regina.wixobj WixUI_Regina.wixobj

